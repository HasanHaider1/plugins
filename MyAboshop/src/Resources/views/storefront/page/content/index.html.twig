{% sw_extends '@Storefront/storefront/page/content/index.html.twig' %}

{% block base_main_inner %}
    <div class="row">
        {{ dump(context.context) }}
        <div class="col-md-4" style="margin: 20px">
            {% set foo = config('MyAboshop.config.mydatepicker')|split(',') %}
            {% set bar = "{{dateOfMonth}}" %}
            {% set doe = "{{ dayOfWeek }}" %}
            {% set foo = foo|merge([bar,doe]) %}
            {% set pickerProperties = {

                locale: app.request.locale,
                enableTime: false,
                mode: 'multiple',
                conjunction: ',',
                minDate : context.context.extensions.testContextExtension['key1'],
                maxDate : context.context.extensions.testContextExtension['key2'],
                disable: foo,
                dateType:"date",
                dateFormat: "Y-m-d"

            } %}
            <label>
                <input type="text"
                       name="foo"
                       class="customDate"
                       value=["2021-09-12T00:12:15+00:00","2021-09-13T00:12:15+00:00"]
                       id="loo"

                       data-date-picker
                       data-date-picker-options="{{ pickerProperties|json_encode|escape('html_attr') }}"

                />
                <button  id="example-3" v-on:click = "say('I am working....')">My test Button</button>
            </label>

        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.18/vue.min.js"></script>
    <script>
        function ready(f) {
            /in/.test(document.readyState) ? setTimeout('ready(' + f + ')', 9) : f();
        }

        var btn = document.getElementById("btn");
        new Vue({
            el: '#example-3',
            methods: {
                say: function (message) {
                    alert(message)
                },
                dayOfWeek: function(date){
                    return (date.getDay() === 0 || date.getDay() === 6);
                },
                dateOfMonth: function(date){
                    return (date.getDate() === 3 || date.getDate() === 5);
                }

            }
        });
        new Vue({
            el: '#loo',
            methods: {
                say: function (message) {
                    alert(message)
                },
                dayOfWeek: function(date){
                    return (date.getDay() === 0 || date.getDay() === 6);
                },
                dateOfMonth: function(date){
                    return (date.getDate() === 3 || date.getDate() === 5);
                }

            }
        })
        //btn.addEventListener("click", myalert() {
            //Do something here
        //    alert("Hello! I am an alert box!!");
        //}, false);
        /*
            function myalert(){
                alert("Hello! I am an alert box!!");
                return;
            }
            function dayOfWeek(date) {
                // return true to disable

                return (date.getDay() === 0 || date.getDay() === 6);

            }

            document.getElementById("loo").innerHTML = dayOfWeek(date);
            function dateOfMonth(date) {
                // return true to disable
                return (date.getDate() === 3 || date.getDate() === 6);

            }
            document.getElementById("loo").innerHTML = dateOfMonth(date);
        */
    </script>

    {{ parent() }}
{% endblock %}
